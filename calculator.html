<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculator - Real Estate Investment Calculator</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
</head>

<body>
    <div class="container">
        <header>
            <nav class="main-nav">
                <div class="nav-logo">InvestmentCalc</div>
                <button class="mobile-menu-btn" aria-label="Toggle menu">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
                <ul class="nav-links">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="calculator.html" class="active">Calculator</a></li>
                    <li><a href="about.html">About</a></li>
                    <li><a href="impressum.html">Impressum</a></li>
                </ul>
            </nav>
        </header>

        <main>
            <div class="content-grid">
                <!-- Input Section -->
                <section class="card input-section">
                    <div class="section-header">
                        <h2>Investment Details</h2>
                        <button id="shareBtn" class="btn-icon" aria-label="Share Configuration"
                            title="Copy Link to Clipboard">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"></path>
                                <polyline points="16 6 12 2 8 6"></polyline>
                                <line x1="12" y1="2" x2="12" y2="15"></line>
                            </svg>
                            Share
                        </button>
                    </div>

                    <div class="form-group">
                        <label for="purchasePrice">Purchase Price (Amount Paid)</label>
                        <div class="input-wrapper">
                            <span class="currency">€</span>
                            <input type="number" id="purchasePrice" value="380000" step="1000">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="additionalCosts">Additional Costs (Closing, Renovation, etc.)</label>
                        <div class="input-wrapper">
                            <span class="currency">€</span>
                            <input type="number" id="additionalCosts" value="20000" step="1000">
                        </div>
                    </div>


                    <h3>Investment Start Date</h3>

                    <div class="date-inputs">
                        <div class="form-group">
                            <label for="startMonth">Month</label>
                            <select id="startMonth">
                                <option value="0">January</option>
                                <option value="1">February</option>
                                <option value="2">March</option>
                                <option value="3">April</option>
                                <option value="4">May</option>
                                <option value="5">June</option>
                                <option value="6">July</option>
                                <option value="7">August</option>
                                <option value="8">September</option>
                                <option value="9">October</option>
                                <option value="10">November</option>
                                <option value="11" selected>December</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="startYear">Year</label>
                            <input type="number" id="startYear" value="2025" min="2020" max="2050">
                        </div>
                    </div>

                    <h3>Debt Information</h3>

                    <div class="form-group">
                        <label for="debtAmount">Total Debt Amount</label>
                        <div class="input-wrapper">
                            <span class="currency">€</span>
                            <input type="number" id="debtAmount" value="320000" step="1000">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="interestRate">Annual Interest Rate</label>
                        <div class="input-wrapper">
                            <input type="number" id="interestRate" value="3.5" step="0.1">
                            <span class="currency">%</span>
                        </div>
                    </div>

                    <!-- Tabs for Calculation Mode -->
                    <div class="tabs">
                        <div class="tab-header">
                            <button class="tab-btn active" data-tab="manual">Manual Input</button>
                            <button class="tab-btn" data-tab="optimization">Optimization</button>
                        </div>

                        <div class="tab-content active" id="manual-tab">
                            <div class="form-group">
                                <label for="expectedRent">Expected Monthly Rent</label>
                                <div class="input-wrapper">
                                    <span class="currency">€</span>
                                    <input type="number" id="expectedRent" value="2000" step="50">
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="monthlyPayment">Monthly Debt Payment</label>
                                <div class="input-wrapper">
                                    <span class="currency">€</span>
                                    <input type="number" id="monthlyPayment" value="1500" step="50">
                                </div>
                            </div>
                        </div>

                        <div class="tab-content" id="optimization-tab">
                            <div class="form-group">
                                <label for="targetCashFlow">Target Monthly Cash Flow</label>
                                <div class="input-wrapper">
                                    <span class="currency">€</span>
                                    <input type="number" id="targetCashFlow" value="0" step="10">
                                </div>
                                <small class="help-text">Desired profit after tax (0 for break-even)</small>
                            </div>

                            <div class="form-group">
                                <label for="targetRepayment">Target Initial Repayment</label>
                                <div class="input-wrapper">
                                    <input type="number" id="targetRepayment" value="2.0" step="0.1" min="0">
                                    <span class="currency">%</span>
                                </div>
                                <small class="help-text">Desired amortization rate</small>
                            </div>
                        </div>
                    </div>

                    <h3>German Tax Benefits</h3>

                    <div class="form-group checkbox-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="applyGermanTax">
                            <span>Apply German Tax Relief (AfA & Deductions)</span>
                        </label>
                    </div>

                    <div id="taxFields" class="tax-fields" style="display: none;">
                        <div class="form-group">
                            <label for="buildingValue">Building Value (excl. Land)</label>
                            <div class="input-wrapper">
                                <span class="currency">€</span>
                                <input type="number" id="buildingValue" value="300000" step="1000">
                            </div>
                            <small class="help-text">Only the building depreciates, not the land</small>
                        </div>

                        <div class="form-group">
                            <label for="taxRate">Personal Income Tax Rate</label>
                            <div class="input-wrapper">
                                <input type="number" id="taxRate" value="30" step="1" min="0" max="45">
                                <span class="currency">%</span>
                            </div>
                            <small class="help-text">Your marginal tax rate (25-45%)</small>
                        </div>

                        <div class="form-group">
                            <label for="annualExpenses">Annual Deductible Expenses</label>
                            <div class="input-wrapper">
                                <span class="currency">€</span>
                                <input type="number" id="annualExpenses" value="2000" step="100">
                            </div>
                            <small class="help-text">Maintenance, insurance, property tax, etc.</small>
                        </div>
                    </div>

                    <div class="button-group">
                        <button id="calculateBtn" class="btn-primary">Calculate</button>
                    </div>
                </section>

                <!-- Results Section -->
                <section class="card results-section">
                    <h2>Financial Overview</h2>

                    <div class="metrics-grid">
                        <div class="metric-card">
                            <span class="metric-label">Monthly Rent</span>
                            <span class="metric-value" id="monthlyRentResult">€0</span>
                        </div>

                        <div class="metric-card">
                            <span class="metric-label">Monthly Repayment</span>
                            <span class="metric-value" id="monthlyPaymentResult">€0</span>
                        </div>

                        <div class="metric-card">
                            <span class="metric-label">Total Investment</span>
                            <span class="metric-value" id="totalInvestment">€0</span>
                        </div>

                        <div class="metric-card">
                            <span class="metric-label">Time to Payoff</span>
                            <span class="metric-value" id="payoffTime">0 years</span>
                        </div>

                        <div class="metric-card">
                            <span class="metric-label">Total Interest Paid</span>
                            <span class="metric-value" id="totalInterest">€0</span>
                        </div>

                        <div class="metric-card">
                            <span class="metric-label">Break-even Point</span>
                            <span class="metric-value" id="breakEven">0 years</span>
                        </div>
                    </div>
                </section>
            </div>

            <!-- Charts Section -->
            <div class="charts-grid">
                <section class="card chart-container">
                    <h3>Debt Payoff Timeline</h3>
                    <canvas id="debtChart"></canvas>
                </section>

                <section class="card chart-container">
                    <h3>Monthly Cash Flow</h3>
                    <canvas id="monthlyCashFlowChart"></canvas>
                </section>

                <section class="card chart-container">
                    <h3>Cumulative Cash Flow</h3>
                    <canvas id="cashFlowChart"></canvas>
                </section>

                <section class="card chart-container" id="taxSavingsChartContainer" style="display: none;">
                    <h3>Annual Tax Benefits Breakdown</h3>
                    <canvas id="taxSavingsChart"></canvas>
                </section>
            </div>
        </main>
    </div>

    <script src="dist/bundle.js?v=20241204184500"></script>
</body>

</html>